{"ast":null,"code":"import config from '../config/youtube';\nclass YouTubeService {\n  constructor() {\n    this.apiKey = config.youtube.apiKey;\n    this.channelId = config.youtube.channelId;\n    this.baseUrl = config.youtube.baseUrl;\n  }\n\n  // Verificar se API está disponível\n  isApiAvailable() {\n    return !!this.apiKey && this.apiKey.length > 0;\n  }\n\n  // Buscar transmissões ao vivo\n  async getLiveStreams() {\n    if (!this.isApiAvailable()) {\n      return this.getFallbackData();\n    }\n    try {\n      const response = await fetch(`${this.baseUrl}/search?key=${this.apiKey}&channelId=${this.channelId}&eventType=live&type=video&part=snippet&maxResults=1`);\n      if (!response.ok) throw new Error('Erro na API');\n      return await response.json();\n    } catch (error) {\n      console.error('YouTube API Error:', error);\n      return this.getFallbackData();\n    }\n  }\n\n  // Buscar vídeos recentes\n  async getRecentVideos(maxResults = 6) {\n    if (!this.isApiAvailable()) {\n      return this.getFallbackVideos();\n    }\n    try {\n      const response = await fetch(`${this.baseUrl}/search?key=${this.apiKey}&channelId=${this.channelId}&order=date&type=video&part=snippet&maxResults=${maxResults}`);\n      if (!response.ok) throw new Error('Erro na API');\n      const data = await response.json();\n\n      // Se a API retornar vídeos, usar eles\n      if (data.items && data.items.length > 0) {\n        return await this.getVideoDetails(data.items);\n      } else {\n        // Se não retornar vídeos, usar fallback\n        return this.getFallbackVideos();\n      }\n    } catch (error) {\n      console.error('YouTube API Error:', error);\n      return this.getFallbackVideos();\n    }\n  }\n\n  // Buscar detalhes dos vídeos\n  async getVideoDetails(videos) {\n    if (!videos || videos.length === 0) return [];\n    const videoIds = videos.map(item => item.id.videoId).join(',');\n    try {\n      const response = await fetch(`${this.baseUrl}/videos?key=${this.apiKey}&id=${videoIds}&part=contentDetails,statistics`);\n      const detailsData = await response.json();\n      return videos.map((item, index) => {\n        var _detailsData$items$in, _detailsData$items$in2, _detailsData$items$in3, _detailsData$items$in4;\n        return {\n          id: item.id.videoId,\n          titulo: item.snippet.title,\n          data: new Date(item.snippet.publishedAt).toLocaleDateString('pt-BR'),\n          descricao: item.snippet.description,\n          thumbnail: item.snippet.thumbnails.medium.url,\n          videoId: item.id.videoId,\n          duracao: ((_detailsData$items$in = detailsData.items[index]) === null || _detailsData$items$in === void 0 ? void 0 : (_detailsData$items$in2 = _detailsData$items$in.contentDetails) === null || _detailsData$items$in2 === void 0 ? void 0 : _detailsData$items$in2.duration) || 'PT0M0S',\n          visualizacoes: ((_detailsData$items$in3 = detailsData.items[index]) === null || _detailsData$items$in3 === void 0 ? void 0 : (_detailsData$items$in4 = _detailsData$items$in3.statistics) === null || _detailsData$items$in4 === void 0 ? void 0 : _detailsData$items$in4.viewCount) || '0'\n        };\n      });\n    } catch (error) {\n      console.error('Erro ao buscar detalhes:', error);\n      return this.getFallbackVideos();\n    }\n  }\n\n  // Fallback se API falhar\n  getFallbackData() {\n    return {\n      items: []\n    };\n  }\n  getFallbackVideos() {\n    // Vídeos personalizados da Igreja AD Cavallari\n    return [{\n      id: 'video1',\n      titulo: 'Culto de Domingo - Igreja AD Cavallari',\n      data: '10 Dez 2024',\n      videoId: 'rT8YqGItaR0',\n      thumbnail: 'https://img.youtube.com/vi/rT8YqGItaR0/hqdefault.jpg',\n      duracao: 'PT1H30M0S',\n      visualizacoes: '1250'\n    }, {\n      id: 'video2',\n      titulo: 'Estudo Bíblico - Quarta-feira',\n      data: '06 Dez 2024',\n      videoId: 'QQc8996nOvM',\n      thumbnail: 'https://img.youtube.com/vi/QQc8996nOvM/hqdefault.jpg',\n      duracao: 'PT45M20S',\n      visualizacoes: '890'\n    }, {\n      id: 'video3',\n      titulo: 'Culto de Louvor e Adoração',\n      data: '03 Dez 2024',\n      videoId: '1U0T3ZFEI3w',\n      thumbnail: 'https://img.youtube.com/vi/1U0T3ZFEI3w/hqdefault.jpg',\n      duracao: 'PT1H15M0S',\n      visualizacoes: '956'\n    }, {\n      id: 'video4',\n      titulo: 'Culto da Família - Mensagem Especial',\n      data: '01 Dez 2024',\n      videoId: 'rT8YqGItaR0',\n      thumbnail: 'https://img.youtube.com/vi/WFS8EDhs9iw/hqdefault.jpg',\n      duracao: 'PT1H25M0S',\n      visualizacoes: '1100'\n    }, {\n      id: 'video5',\n      titulo: 'Estudo sobre Fé e Esperança',\n      data: '29 Nov 2024',\n      videoId: 'QQc8996nOvM',\n      thumbnail: 'https://img.youtube.com/vi/4vmylFlIL20/hqdefault.jpg',\n      duracao: 'PT50M10S',\n      visualizacoes: '765'\n    }, {\n      id: 'video6',\n      titulo: 'Culto de Missão',\n      data: '14 Set 2025',\n      videoId: '1U0T3ZFEI3w',\n      thumbnail: 'https://img.youtube.com/vi/KOaB1TWnT2w/hqdefault.jpg',\n      duracao: 'PT1H35M0S',\n      visualizacoes: '1340'\n    }];\n  }\n}\nexport default new YouTubeService();","map":{"version":3,"names":["config","YouTubeService","constructor","apiKey","youtube","channelId","baseUrl","isApiAvailable","length","getLiveStreams","getFallbackData","response","fetch","ok","Error","json","error","console","getRecentVideos","maxResults","getFallbackVideos","data","items","getVideoDetails","videos","videoIds","map","item","id","videoId","join","detailsData","index","_detailsData$items$in","_detailsData$items$in2","_detailsData$items$in3","_detailsData$items$in4","titulo","snippet","title","Date","publishedAt","toLocaleDateString","descricao","description","thumbnail","thumbnails","medium","url","duracao","contentDetails","duration","visualizacoes","statistics","viewCount"],"sources":["C:/Users/Toccini/Videos/Site Igreja/src/services/youtubeService.js"],"sourcesContent":["import config from '../config/youtube';\r\n\r\nclass YouTubeService {\r\n  constructor() {\r\n    this.apiKey = config.youtube.apiKey;\r\n    this.channelId = config.youtube.channelId;\r\n    this.baseUrl = config.youtube.baseUrl;\r\n  }\r\n\r\n  // Verificar se API está disponível\r\n  isApiAvailable() {\r\n    return !!this.apiKey && this.apiKey.length > 0;\r\n  }\r\n\r\n  // Buscar transmissões ao vivo\r\n  async getLiveStreams() {\r\n    if (!this.isApiAvailable()) {\r\n      return this.getFallbackData();\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(\r\n        `${this.baseUrl}/search?key=${this.apiKey}&channelId=${this.channelId}&eventType=live&type=video&part=snippet&maxResults=1`\r\n      );\r\n      \r\n      if (!response.ok) throw new Error('Erro na API');\r\n      return await response.json();\r\n    } catch (error) {\r\n      console.error('YouTube API Error:', error);\r\n      return this.getFallbackData();\r\n    }\r\n  }\r\n\r\n  // Buscar vídeos recentes\r\n  async getRecentVideos(maxResults = 6) {\r\n    if (!this.isApiAvailable()) {\r\n      return this.getFallbackVideos();\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(\r\n        `${this.baseUrl}/search?key=${this.apiKey}&channelId=${this.channelId}&order=date&type=video&part=snippet&maxResults=${maxResults}`\r\n      );\r\n      \r\n      if (!response.ok) throw new Error('Erro na API');\r\n      const data = await response.json();\r\n      \r\n      // Se a API retornar vídeos, usar eles\r\n      if (data.items && data.items.length > 0) {\r\n        return await this.getVideoDetails(data.items);\r\n      } else {\r\n        // Se não retornar vídeos, usar fallback\r\n        return this.getFallbackVideos();\r\n      }\r\n    } catch (error) {\r\n      console.error('YouTube API Error:', error);\r\n      return this.getFallbackVideos();\r\n    }\r\n  }\r\n\r\n  // Buscar detalhes dos vídeos\r\n  async getVideoDetails(videos) {\r\n    if (!videos || videos.length === 0) return [];\r\n    \r\n    const videoIds = videos.map(item => item.id.videoId).join(',');\r\n    \r\n    try {\r\n      const response = await fetch(\r\n        `${this.baseUrl}/videos?key=${this.apiKey}&id=${videoIds}&part=contentDetails,statistics`\r\n      );\r\n      \r\n      const detailsData = await response.json();\r\n      \r\n      return videos.map((item, index) => ({\r\n        id: item.id.videoId,\r\n        titulo: item.snippet.title,\r\n        data: new Date(item.snippet.publishedAt).toLocaleDateString('pt-BR'),\r\n        descricao: item.snippet.description,\r\n        thumbnail: item.snippet.thumbnails.medium.url,\r\n        videoId: item.id.videoId,\r\n        duracao: detailsData.items[index]?.contentDetails?.duration || 'PT0M0S',\r\n        visualizacoes: detailsData.items[index]?.statistics?.viewCount || '0'\r\n      }));\r\n    } catch (error) {\r\n      console.error('Erro ao buscar detalhes:', error);\r\n      return this.getFallbackVideos();\r\n    }\r\n  }\r\n\r\n  // Fallback se API falhar\r\n  getFallbackData() {\r\n    return { items: [] };\r\n  }\r\n\r\n  getFallbackVideos() {\r\n    // Vídeos personalizados da Igreja AD Cavallari\r\n    return [\r\n      {\r\n        id: 'video1',\r\n        titulo: 'Culto de Domingo - Igreja AD Cavallari',\r\n        data: '10 Dez 2024',\r\n        videoId: 'rT8YqGItaR0',\r\n        thumbnail: 'https://img.youtube.com/vi/rT8YqGItaR0/hqdefault.jpg',\r\n        duracao: 'PT1H30M0S',\r\n        visualizacoes: '1250'\r\n      },\r\n      {\r\n        id: 'video2', \r\n        titulo: 'Estudo Bíblico - Quarta-feira',\r\n        data: '06 Dez 2024',\r\n        videoId: 'QQc8996nOvM',\r\n        thumbnail: 'https://img.youtube.com/vi/QQc8996nOvM/hqdefault.jpg',\r\n        duracao: 'PT45M20S',\r\n        visualizacoes: '890'\r\n      },\r\n      {\r\n        id: 'video3',\r\n        titulo: 'Culto de Louvor e Adoração',\r\n        data: '03 Dez 2024',\r\n        videoId: '1U0T3ZFEI3w',\r\n        thumbnail: 'https://img.youtube.com/vi/1U0T3ZFEI3w/hqdefault.jpg',\r\n        duracao: 'PT1H15M0S',\r\n        visualizacoes: '956'\r\n      },\r\n      {\r\n        id: 'video4',\r\n        titulo: 'Culto da Família - Mensagem Especial',\r\n        data: '01 Dez 2024',\r\n        videoId: 'rT8YqGItaR0',\r\n        thumbnail: 'https://img.youtube.com/vi/WFS8EDhs9iw/hqdefault.jpg',\r\n        duracao: 'PT1H25M0S',\r\n        visualizacoes: '1100'\r\n      },\r\n      {\r\n        id: 'video5',\r\n        titulo: 'Estudo sobre Fé e Esperança',\r\n        data: '29 Nov 2024',\r\n        videoId: 'QQc8996nOvM',\r\n        thumbnail: 'https://img.youtube.com/vi/4vmylFlIL20/hqdefault.jpg',\r\n        duracao: 'PT50M10S',\r\n        visualizacoes: '765'\r\n      },\r\n      {\r\n        id: 'video6',\r\n        titulo: 'Culto de Missão',\r\n        data: '14 Set 2025',\r\n        videoId: '1U0T3ZFEI3w',\r\n        thumbnail: 'https://img.youtube.com/vi/KOaB1TWnT2w/hqdefault.jpg',\r\n        duracao: 'PT1H35M0S',\r\n        visualizacoes: '1340'\r\n      }\r\n    ];\r\n  }\r\n}\r\n\r\nexport default new YouTubeService();"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}